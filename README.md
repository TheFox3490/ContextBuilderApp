# ContextBuilderApp

Утилита для агрегации исходного кода проекта в единый текстовый контекст, оптимизированный для работы с LLM. Позволяет автоматизировать процесс сбора файловой структуры и содержимого файлов для формирования промптов.

Приложение разработано на базе **.NET 9** и **Avalonia UI 11**.

> **Disclaimer:** Спасибо Google Gemini за помощь с данным проектом. Фактически проект был завайбкожен. Тем не менее, приложение работает хорошо и со своей задачей справляется.

## Функциональные возможности

### 1. Формирование контекста
Приложение генерирует структурированный вывод, состоящий из двух частей:
* **Дерево проекта:** Визуализация структуры папок и файлов, аналогичная выводу утилиты `tree` в Linux (с учетом исключений). Позволяет LLM «понимать» иерархию проекта.
* **Содержимое файлов:** Полный текст файлов кода. Каждый файл предваряется мета-тегом для навигации:
    ```text
    #FILE: src/Models/MyClass.cs
    [содержимое файла...]
    ```

### 2. Система фильтрации (Пресеты)
Для гибкой настройки области сканирования реализована система пресетов. Пользователь может создавать, редактировать и сохранять профили фильтрации.

Фильтрация осуществляется по трем направлениям:
* **Игнорируемые папки:** Исключение системных директорий (например, `.git`, `bin`, `obj`, `node_modules`).
* **Игнорируемые файлы:** Исключение конкретных файлов (например, `package-lock.json`).
* **Игнорируемые расширения:** "Черный список" расширений файлов.

### 3. Обработка бинарных файлов
Приложение автоматически детектирует бинарные файлы путем сканирования содержимого на наличие NULL-байтов. Такие файлы исключаются из контекста.

### 4. Оценка объема (Токенизация)
Реализован эвристический подсчет токенов для быстрой оценки объема контекста.
* **Алгоритм:** `Количество символов / 4`.
* Позволяет приблизительно оценить, укладывается ли контекст в лимиты конкретной модели (Context Window).

### 5. Экспорт
* Визуализация дерева файлов в интерфейсе.
* Копирование итогового контекста в буфер обмена.
* Сохранение результата в текстовый файл (`.txt`).

## Технический стек

* **Фреймворк:** .NET 9
* **UI:** Avalonia UI 11 (Desktop)
* **Язык:** C#

## Сборка и запуск

Требуется наличие .NET 9 SDK.

```bash
# Клонирование репозитория
git clone https://github.com/TheFox3490/ContextBuilderApp.git

# Переход в директорию
cd ContextBuilderApp

# Сборка и запуск
dotnet run
```
